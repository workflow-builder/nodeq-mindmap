<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodeQ MindMap - Basic Example</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="../dist/index.umd.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .controls {
            margin-bottom: 20px;
            text-align: center;
        }
        
        button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #4299e1;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        
        button:hover {
            background-color: #3182ce;
        }
        
        #mindmap-container {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .info-panel {
            margin-top: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .node-info {
            background-color: #f7fafc;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>NodeQ MindMap - Interactive Visualization</h1>
        
        <div class="controls">
            <button onclick="loadSampleData('company')">Company Structure</button>
            <button onclick="loadSampleData('skills')">Skills Roadmap</button>
            <button onclick="loadSampleData('project')">Project Plan</button>
            <button onclick="mindMap.zoomToFit()">Zoom to Fit</button>
            <button onclick="exportSVG()">Export SVG</button>
        </div>
        
        <div id="mindmap-container"></div>
        
        <div class="info-panel">
            <h3>Selected Node Information</h3>
            <div id="node-info">Click on a node to see details here</div>
        </div>
    </div>

    <script>
        let mindMap;
        
        // Sample data sets
        const sampleData = {
            company: {
                "topic": "Tech Company",
                "summary": "Modern technology company structure",
                "children": [
                    {
                        "topic": "Engineering",
                        "summary": "Product development team",
                        "skills": ["Programming", "Problem Solving", "Collaboration"],
                        "children": [
                            {
                                "topic": "Frontend Team",
                                "summary": "User interface development",
                                "skills": ["React", "TypeScript", "CSS", "Design Systems"]
                            },
                            {
                                "topic": "Backend Team", 
                                "summary": "Server and API development",
                                "skills": ["Node.js", "Python", "Databases", "Cloud Services"]
                            },
                            {
                                "topic": "DevOps Team",
                                "summary": "Infrastructure and deployment",
                                "skills": ["Docker", "Kubernetes", "AWS", "CI/CD"]
                            }
                        ]
                    },
                    {
                        "topic": "Product",
                        "summary": "Product strategy and management",
                        "skills": ["Strategy", "User Research", "Analytics"],
                        "children": [
                            {
                                "topic": "Product Managers",
                                "summary": "Feature planning and roadmap",
                                "skills": ["Roadmapping", "Stakeholder Management", "Data Analysis"]
                            },
                            {
                                "topic": "Designers",
                                "summary": "User experience and interface design",
                                "skills": ["UI/UX Design", "Prototyping", "User Testing"]
                            }
                        ]
                    },
                    {
                        "topic": "Marketing",
                        "summary": "Brand and customer acquisition",
                        "skills": ["Digital Marketing", "Content Creation", "Analytics"],
                        "children": [
                            {
                                "topic": "Content Team",
                                "summary": "Blog, social media, and educational content",
                                "skills": ["Writing", "SEO", "Social Media Management"]
                            }
                        ]
                    }
                ]
            },
            
            skills: {
                "topic": "Full Stack Developer Roadmap",
                "summary": "Complete learning path for full stack development",
                "children": [
                    {
                        "topic": "Frontend Development",
                        "summary": "Client-side programming and user interfaces",
                        "skills": ["HTML", "CSS", "JavaScript"],
                        "children": [
                            {
                                "topic": "React Ecosystem",
                                "summary": "Modern frontend framework and tools",
                                "skills": ["React", "JSX", "Hooks", "Context API", "Redux"]
                            },
                            {
                                "topic": "Styling & Design",
                                "summary": "Making applications look great",
                                "skills": ["CSS Grid", "Flexbox", "Tailwind CSS", "Responsive Design"]
                            }
                        ]
                    },
                    {
                        "topic": "Backend Development",
                        "summary": "Server-side programming and databases",
                        "skills": ["Node.js", "Express", "Databases"],
                        "children": [
                            {
                                "topic": "API Development",
                                "summary": "Building RESTful and GraphQL APIs",
                                "skills": ["REST", "GraphQL", "Authentication", "API Design"]
                            },
                            {
                                "topic": "Database Design",
                                "summary": "Data modeling and management",
                                "skills": ["PostgreSQL", "MongoDB", "Database Design", "ORMs"]
                            }
                        ]
                    },
                    {
                        "topic": "DevOps & Deployment",
                        "summary": "Taking applications to production",
                        "skills": ["Docker", "CI/CD", "Cloud Platforms"],
                        "children": [
                            {
                                "topic": "Cloud Services",
                                "summary": "Scalable hosting and services",
                                "skills": ["AWS", "Vercel", "Netlify", "Digital Ocean"]
                            }
                        ]
                    }
                ]
            },
            
            project: {
                "topic": "E-commerce Platform",
                "summary": "Building a modern online shopping platform",
                "children": [
                    {
                        "topic": "Phase 1: Foundation",
                        "summary": "Core platform development",
                        "skills": ["Planning", "Architecture", "MVP Development"],
                        "children": [
                            {
                                "topic": "User Authentication",
                                "summary": "Secure login and registration system",
                                "skills": ["JWT", "Password Hashing", "Session Management"]
                            },
                            {
                                "topic": "Product Catalog",
                                "summary": "Product listing and search functionality",
                                "skills": ["Database Design", "Search Optimization", "Image Handling"]
                            }
                        ]
                    },
                    {
                        "topic": "Phase 2: Commerce",
                        "summary": "Shopping and payment features",
                        "skills": ["Payment Integration", "Cart Management", "Order Processing"],
                        "children": [
                            {
                                "topic": "Shopping Cart",
                                "summary": "Add to cart and checkout flow",
                                "skills": ["State Management", "Local Storage", "User Experience"]
                            },
                            {
                                "topic": "Payment System",
                                "summary": "Secure payment processing",
                                "skills": ["Stripe API", "PayPal Integration", "Security"]
                            }
                        ]
                    },
                    {
                        "topic": "Phase 3: Optimization",
                        "summary": "Performance and user experience improvements",
                        "skills": ["Performance", "Analytics", "User Feedback"],
                        "children": [
                            {
                                "topic": "Performance Optimization",
                                "summary": "Fast loading and smooth interactions",
                                "skills": ["Caching", "Image Optimization", "Code Splitting"]
                            }
                        ]
                    }
                ]
            }
        };
        
        // Initialize with company data
        function initializeMindMap() {
            mindMap = new NodeQMindMap.NodeQMindMap({
                container: '#mindmap-container',
                data: sampleData.company,
                width: 1160,
                height: 600,
                theme: {
                    nodeColor: '#4299e1',
                    textColor: '#2d3748',
                    linkColor: '#a0aec0',
                    backgroundColor: '#ffffff'
                },
                onNodeClick: (node) => {
                    displayNodeInfo(node);
                },
                onNodeHover: (node) => {
                    console.log('Hovered:', node.topic);
                }
            });
            
            mindMap.render();
            mindMap.zoomToFit();
        }
        
        function loadSampleData(type) {
            if (mindMap && sampleData[type]) {
                mindMap.updateData(sampleData[type]);
                mindMap.zoomToFit();
                document.getElementById('node-info').innerHTML = 'Click on a node to see details here';
            }
        }
        
        function displayNodeInfo(node) {
            let html = `
                <div class="node-info">
                    <h4>${node.topic}</h4>
                    ${node.summary ? `<p><strong>Summary:</strong> ${node.summary}</p>` : ''}
                    ${node.skills && node.skills.length > 0 ? `
                        <p><strong>Skills:</strong></p>
                        <ul>
                            ${node.skills.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    ` : ''}
                    ${node.children ? `<p><strong>Child Nodes:</strong> ${node.children.length}</p>` : ''}
                </div>
            `;
            document.getElementById('node-info').innerHTML = html;
        }
        
        function exportSVG() {
            if (mindMap) {
                const svgString = mindMap.exportSVG();
                const blob = new Blob([svgString], { type: 'image/svg+xml' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'mindmap.svg';
                link.click();
                URL.revokeObjectURL(url);
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializeMindMap);
    </script>
</body>
</html>